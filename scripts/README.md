# åšå®¢éƒ¨ç½²å’Œç¤¾äº¤åª’ä½“å‘å¸ƒå·¥ä½œæµ

## å·¥ä½œæµæ¦‚è¿°

```
éƒ¨ç½²åšå®¢ â†’ æ£€æµ‹æ–°æ–‡ç«  â†’ ç”Ÿæˆæ‘˜è¦ â†’ å‘é€ç¡®è®¤ â†’ å‘å¸ƒåˆ°X+æ˜é‡‘
```

## è‡ªåŠ¨åŒ–æµç¨‹

### 1. éƒ¨ç½²åšå®¢ï¼ˆå«è‡ªåŠ¨æ‘˜è¦ç”Ÿæˆï¼‰

```bash
cd /Users/geraldchen/ai/blog
./deploy-production.sh
```

**æ‰§è¡Œæµç¨‹**ï¼š
1. âœ… éƒ¨ç½²å‰æ£€æŸ¥ï¼ˆåˆ†æ”¯ã€æ”¹åŠ¨ã€åŒæ­¥ï¼‰
2. âœ… æœ¬åœ°æ„å»º
3. âœ… æäº¤åˆ°GitHub
4. âœ… æœåŠ¡å™¨éƒ¨ç½²
5. âœ… éƒ¨ç½²éªŒè¯
6. âœ… **æ£€æµ‹æ–°æ–‡ç« **
7. âœ… **è‡ªåŠ¨ç”Ÿæˆæ¨æ–‡å’Œæ˜é‡‘æ‘˜è¦**
8. â¸ï¸ **æš‚åœï¼Œç­‰å¾…å¤§äººç¡®è®¤**

### 2. æŸ¥çœ‹ç”Ÿæˆçš„æ‘˜è¦

éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆæ‘˜è¦å¹¶æ˜¾ç¤ºåœ¨ç»ˆç«¯ã€‚æ‘˜è¦æ–‡ä»¶ä¿å­˜åœ¨ï¼š
- `/Users/geraldchen/ai/blog/.deploy-temp/summary.json`
- `/Users/geraldchen/ai/blog/.deploy-temp/juejin.json`

### 3. ç¡®è®¤åå‘å¸ƒ

**æ–¹å¼1ï¼šå‘½ä»¤è¡Œç¡®è®¤**
```bash
node /Users/geraldchen/ai/twitter/publish-to-social.cjs
```

**æ–¹å¼2ï¼šé€šè¿‡Agentç¡®è®¤**ï¼ˆæ¨èï¼‰
Agentä¼šè‡ªåŠ¨é€šè¿‡Telegramå‘é€æ‘˜è¦ç»™å¤§äººï¼Œå¤§äººå›å¤"ç¡®è®¤"åAgentè‡ªåŠ¨æ‰§è¡Œå‘å¸ƒã€‚

### 4. å‘å¸ƒæµç¨‹

`publish-to-social.cjs` ä¼šè‡ªåŠ¨ï¼š
1. âœ… å‘å¸ƒæ¨æ–‡åˆ°Xï¼ˆ@geraldchen89ï¼‰
2. âœ… ç”Ÿæˆæ˜é‡‘MDæ–‡ä»¶åˆ° `/Users/geraldchen/ai/juejin/`
3. âœ… æ¸…ç†ä¸´æ—¶æ–‡ä»¶

## å•ç‹¬ä½¿ç”¨å„è„šæœ¬

### ä¸ºæŒ‡å®šæ–‡ç« ç”Ÿæˆæ‘˜è¦

```bash
node /Users/geraldchen/ai/twitter/generate-post-summary.cjs src/data/blog/æ–‡ç« .md
```

### æ£€æµ‹æ–°æ–‡ç« 

```bash
bash /Users/geraldchen/ai/blog/scripts/detect-new-posts.sh
```

### å‡†å¤‡Telegramæ¶ˆæ¯

```bash
node /Users/geraldchen/ai/twitter/send-summary-to-telegram.cjs
```

## æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `deploy-production.sh` | ä¸»éƒ¨ç½²è„šæœ¬ï¼ˆå·²é›†æˆç¤¾äº¤åª’ä½“å·¥ä½œæµï¼‰ |
| `post-deploy-workflow.sh` | éƒ¨ç½²åå·¥ä½œæµï¼ˆæ£€æµ‹æ–°æ–‡ç« +ç”Ÿæˆæ‘˜è¦ï¼‰ |
| `detect-new-posts.sh` | æ£€æµ‹æœ¬æ¬¡éƒ¨ç½²æ–°å¢/ä¿®æ”¹çš„æ–‡ç«  |
| `/Users/geraldchen/ai/twitter/generate-post-summary.cjs` | AIç”Ÿæˆæ¨æ–‡å’Œæ˜é‡‘æ‘˜è¦ |
| `/Users/geraldchen/ai/twitter/send-summary-to-telegram.cjs` | å‡†å¤‡Telegramç¡®è®¤æ¶ˆæ¯ |
| `/Users/geraldchen/ai/twitter/publish-to-social.cjs` | å‘å¸ƒåˆ°Xå’Œç”Ÿæˆæ˜é‡‘MD |

## ä¸´æ—¶æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `.deploy-temp/summary.json` | ç”Ÿæˆçš„æ¨æ–‡å’Œæ‘˜è¦ |
| `.deploy-temp/juejin.json` | å¾…ç”Ÿæˆçš„æ˜é‡‘MDä¿¡æ¯ |
| `.deploy-temp/telegram-message.txt` | Telegramç¡®è®¤æ¶ˆæ¯æ–‡æœ¬ |
| `.last-deploy-commit` | ä¸Šæ¬¡éƒ¨ç½²çš„commit hash |

## æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡ä½¿ç”¨**ï¼šç¬¬ä¸€æ¬¡éƒ¨ç½²æ—¶ï¼Œå› ä¸ºæ²¡æœ‰ `.last-deploy-commit`ï¼Œä¼šæ£€æµ‹æœ€è¿‘ä¸€æ¬¡æäº¤çš„æ–‡ç« 
2. **APIä¾èµ–**ï¼š
   - `generate-post-summary.cjs` éœ€è¦ `ANTHROPIC_API_KEY`
   - `publish-to-social.cjs` éœ€è¦Twitter APIå‡­æ®
3. **æ˜é‡‘å‘å¸ƒ**ï¼šæ˜é‡‘MDæ–‡ä»¶ç”Ÿæˆåï¼Œéœ€è¦äººå·¥ç™»å½•æ˜é‡‘æ‰‹åŠ¨å‘å¸ƒ
4. **Xå‘å¸ƒå¤±è´¥å¤„ç†**ï¼šå¦‚æœX APIé¢åº¦ä¸è¶³ï¼Œæ¨æ–‡å†…å®¹å·²ä¿å­˜åœ¨ `summary.json`ï¼Œå¯ç¨åæ‰‹åŠ¨å‘å¸ƒ

## å·¥ä½œæµå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¼–è¾‘æ–‡ç« å†…å®¹       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ./deploy-production â”‚ â† ä¸€é”®éƒ¨ç½²
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   éƒ¨ç½²åˆ°æœåŠ¡å™¨      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ£€æµ‹æ–°æ–‡ç«          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AIç”Ÿæˆæ¨æ–‡+æ‘˜è¦     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘é€Telegramç¡®è®¤    â”‚ â† Agentè‡ªåŠ¨
â”‚ (æˆ–å‘½ä»¤è¡Œæ˜¾ç¤º)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤§äººç¡®è®¤           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘å¸ƒåˆ°X + æ˜é‡‘MD    â”‚ â† Agentè‡ªåŠ¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç¤ºä¾‹è¾“å‡º

### éƒ¨ç½²åè‡ªåŠ¨ç”Ÿæˆæ‘˜è¦

```bash
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¢ éƒ¨ç½²åå·¥ä½œæµï¼šç¤¾äº¤åª’ä½“å‘å¸ƒ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” æ£€æµ‹æ–°å‘å¸ƒçš„æ–‡ç« ...
âœ… æ£€æµ‹åˆ°æ–°æ–‡ç« ï¼š
   â€¢ src/data/blog/my-new-post.md

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ å¤„ç†æ–‡ç« : my-new-post.md
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ è§£ææ–‡ç« ...
ğŸ“– æ–‡ç« æ ‡é¢˜: æˆ‘çš„æ–°æ–‡ç« 
ğŸ”— æ–‡ç« URL: https://chenguangliang.com/posts/my-new-post

ğŸ¤– ç”Ÿæˆæ‘˜è¦...

âœ… ç”Ÿæˆå®Œæˆï¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“± Xæ¨æ–‡ (245/280 å­—ç¬¦):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
è¿™æ˜¯ä¸€ç¯‡å…³äºxxxçš„æŠ€æœ¯æ–‡ç« ...

https://chenguangliang.com/posts/my-new-post

#æŠ€æœ¯ #å‰ç«¯ #å¼€å‘

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ æ˜é‡‘æ‘˜è¦ (280 å­—):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ–‡ç« ä»‹ç»äº†...

> åŸæ–‡é“¾æ¥ï¼š[æˆ‘çš„æ–°æ–‡ç« ](https://chenguangliang.com/posts/my-new-post/)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â¸ï¸  ç­‰å¾…å¤§äººç¡®è®¤...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ è¯·æŸ¥çœ‹ä¸Šæ–¹ç”Ÿæˆçš„æ¨æ–‡å’Œæ˜é‡‘æ‘˜è¦

ç¡®è®¤åè¾“å…¥ä»¥ä¸‹å‘½ä»¤å‘å¸ƒï¼š
  cd /Users/geraldchen/ai/blog && node scripts/publish-to-social.cjs
```
